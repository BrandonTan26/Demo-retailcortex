<!doctype html>
<html lang="id" data-theme="dark">
<head>
  <!-- Google Tag Manager -->
  <script>
  (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-PCB6G2Q8');
  </script>
  <!-- End Google Tag Manager -->

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Retail-Cortex.io ‚Äî Service Modules</title>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=Orbitron:wght@600;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#070A16;
      --bg2:#0B1026;
      --card:rgba(10,14,32,.76);
      --card2:rgba(12,18,42,.86);
      --stroke:rgba(148,163,184,.22);
      --stroke2:rgba(148,163,184,.34);
      --text:#E8EEFF;
      --muted:rgba(232,238,255,.70);
      --muted2:rgba(232,238,255,.55);
      --brandA:#22d3ee;
      --brandB:#7c3aed;
      --brandC:#4c1d95;
      --good:#22c55e;
      --warn:#f59e0b;

      --r16:16px;
      --r18:18px;
      --r20:20px;
      --r22:22px;
      --shadow:0 18px 55px rgba(0,0,0,.55);
      --shadow2:0 26px 75px rgba(0,0,0,.70);

      --gutter:16px;
      --max:1100px;

      --floatingSize:54px;
    }

    html[data-theme="light"]{
      --bg:#EEF2FF;
      --bg2:#F8FAFF;
      --card:rgba(255,255,255,.86);
      --card2:rgba(255,255,255,.96);
      --stroke:rgba(2,6,23,.10);
      --stroke2:rgba(2,6,23,.16);
      --text:#0B1026;
      --muted:rgba(11,16,38,.72);
      --muted2:rgba(11,16,38,.58);
      --shadow:0 14px 38px rgba(2,6,23,.12);
      --shadow2:0 18px 46px rgba(2,6,23,.16);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      color:var(--text);
      background:
        radial-gradient(1100px 650px at 20% 0%, rgba(124,58,237,.35), transparent 55%),
        radial-gradient(900px 520px at 85% 15%, rgba(34,211,238,.26), transparent 58%),
        radial-gradient(900px 620px at 55% 110%, rgba(76,29,149,.32), transparent 60%),
        linear-gradient(180deg, var(--bg), var(--bg2));
      overflow-x:hidden;
      padding-bottom: 140px;
    }

    .bg-grid{
      position:fixed; inset:0;
      pointer-events:none;
      opacity:.16;
      background-image:
        linear-gradient(to right, rgba(129,140,248,.22) 1px, transparent 1px),
        linear-gradient(to bottom, rgba(129,140,248,.22) 1px, transparent 1px);
      background-size: 52px 52px;
      mask-image: radial-gradient(circle at 50% 10%, rgba(0,0,0,1), rgba(0,0,0,.2) 55%, rgba(0,0,0,0) 85%);
      z-index:0;
    }

    .container{
      width:100%;
      max-width:var(--max);
      margin:0 auto;
      padding-left:var(--gutter);
      padding-right:var(--gutter);
      position:relative;
      z-index:1;
    }

    header{
      position:sticky; top:0;
      z-index:30;
      background:rgba(7,10,22,.55);
      backdrop-filter: blur(14px) saturate(1.2);
      border-bottom:1px solid var(--stroke);
    }
    html[data-theme="light"] header{ background:rgba(248,250,255,.72); }

    .nav{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      padding:12px 0;
    }

    .brand{
      display:flex;
      align-items:center;
      gap:10px;
      min-width:0;
    }

    .brand img{
      width:44px;
      height:44px;
      border-radius:14px;
      object-fit:contain;
      flex:0 0 auto;
      box-shadow: 0 10px 28px rgba(0,0,0,.25);
      border:1px solid var(--stroke);
      background:rgba(255,255,255,.08);
      padding:6px;
    }

    .brand-text{min-width:0; line-height:1.05}
    .brand-title{
      font-family:Orbitron,Inter,sans-serif;
      font-weight:800;
      letter-spacing:.10em;
      text-transform:uppercase;
      font-size:1rem;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      background: linear-gradient(90deg, var(--brandB), var(--brandA));
      -webkit-background-clip:text;
      background-clip:text;
      color:transparent;
    }
    .brand-sub{
      margin-top:4px;
      font-size:.72rem;
      letter-spacing:.22em;
      text-transform:uppercase;
      color:var(--muted2);
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }

    .menuBtn{
      width:46px;height:46px;
      border-radius:16px;
      border:1px solid var(--stroke2);
      background:rgba(255,255,255,.06);
      color:var(--text);
      display:flex;align-items:center;justify-content:center;
      box-shadow: var(--shadow);
      cursor:pointer;
    }
    html[data-theme="light"] .menuBtn{background:rgba(2,6,23,.04)}
    .menuBtn:active{transform:translateY(1px)}

    .hero{ padding:22px 0 12px; }
    .pill{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding:10px 14px;
      border-radius:999px;
      border:1px solid var(--stroke2);
      background:rgba(255,255,255,.06);
      color:var(--muted);
      font-weight:600;
      font-size:.88rem;
    }
    .pill .dot{
      width:10px;height:10px;border-radius:999px;
      background:linear-gradient(135deg,var(--brandB),var(--brandA));
      box-shadow: 0 0 0 6px rgba(34,211,238,.12);
    }

    .heroGrid{
      display:grid;
      grid-template-columns: 1.25fr .75fr;
      gap:18px;
      align-items:start;
      margin-top:14px;
    }
    @media (max-width:900px){ .heroGrid{grid-template-columns:1fr; gap:14px;} }

    .heroTitle{
      margin:10px 0 10px;
      font-family:Orbitron,Inter,sans-serif;
      font-weight:800;
      letter-spacing:.06em;
      text-transform:uppercase;
      line-height:1.06;
      font-size:2.35rem;
      text-wrap: balance;
      overflow-wrap:anywhere;
    }
    @media (max-width:480px){ .heroTitle{font-size:2.05rem; letter-spacing:.05em;} }

    .heroTitle .accent{
      background:linear-gradient(90deg,var(--brandB),var(--brandA));
      -webkit-background-clip:text;
      background-clip:text;
      color:transparent;
    }

    .heroDesc{
      margin:0;
      color:var(--muted);
      font-size:1rem;
      line-height:1.7;
      max-width: 56ch;
    }

    .heroCards{ display:grid; gap:10px; }
    .miniCard{
      border:1px solid var(--stroke);
      background:var(--card);
      border-radius:var(--r20);
      box-shadow: var(--shadow);
      padding:14px;
    }
    .miniCard h4{
      margin:0 0 6px;
      font-size:.98rem;
      font-weight:900;
      letter-spacing:.02em;
      text-transform:uppercase;
    }
    .miniCard p{ margin:0; color:var(--muted); font-size:.92rem; line-height:1.6; }

    .section{ padding:18px 0 10px; }
    .section h2{
      margin:0 0 6px;
      font-size:1.35rem;
      font-weight:900;
      letter-spacing:.02em;
      text-transform:uppercase;
    }
    .section .sub{ margin:0 0 14px; color:var(--muted); line-height:1.65; }

    .grid{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:12px;
    }
    @media (max-width:980px){ .grid{grid-template-columns:repeat(2,1fr);} }
    @media (max-width:560px){ .grid{grid-template-columns:1fr;} }

    .card{
      border:1px solid var(--stroke);
      border-radius:var(--r20);
      background: radial-gradient(900px 220px at 10% 0%, rgba(34,211,238,.14), transparent 55%), var(--card);
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
    }
    html[data-theme="light"] .card{
      background: radial-gradient(900px 220px at 10% 0%, rgba(124,58,237,.10), transparent 55%), var(--card);
    }

    .cardTop{
      padding:14px 14px 10px;
      display:flex; align-items:flex-start; justify-content:space-between; gap:12px;
    }
    .badge{
      display:inline-flex;align-items:center;gap:8px;
      padding:8px 12px;
      border-radius:999px;
      border:1px solid var(--stroke2);
      background:rgba(255,255,255,.06);
      color:var(--muted);
      font-weight:900;
      font-size:.78rem;
      letter-spacing:.10em;
      text-transform:uppercase;
    }
    .iconBox{
      width:44px;height:44px;border-radius:16px;
      display:flex;align-items:center;justify-content:center;
      border:1px solid var(--stroke2);
      background:linear-gradient(135deg, rgba(124,58,237,.20), rgba(34,211,238,.12));
      box-shadow: 0 14px 36px rgba(0,0,0,.25);
      flex:0 0 auto;
    }
    .iconBox svg{width:22px;height:22px;opacity:.95}

    .cardBody{ padding:0 14px 14px; }

    .cardTitle{
      margin:2px 0 6px;
      font-size:1.08rem;
      font-weight:1000;
      letter-spacing:.02em;
      text-transform:uppercase;
    }
    .cardDesc{ margin:0 0 12px; color:var(--muted); line-height:1.65; font-size:.94rem; }

    .cardActions{ display:grid; gap:10px; align-items:center; }

    .btn{
      appearance:none;
      border:none;
      cursor:pointer;
      border-radius:16px;
      padding:12px 14px;
      font-weight:900;
      font-size:.95rem;
      letter-spacing:.01em;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      transition: transform .12s ease, opacity .12s ease;
      user-select:none;
      width:100%;
    }
    .btn:active{transform:translateY(1px)}
    .btnPrimary{
      color:#061026;
      background:linear-gradient(90deg,var(--brandB),var(--brandA));
      box-shadow: var(--shadow);
    }
    .btnGhost{
      color:var(--text);
      background:rgba(255,255,255,.06);
      border:1px solid var(--stroke2);
    }
    html[data-theme="light"] .btnGhost{background:rgba(2,6,23,.04)}

    .btnRow2{ display:grid; grid-template-columns:1fr 1fr; gap:10px; }
    @media (max-width:560px){ .btnRow2{grid-template-columns:1fr;} }

    .testiWrap{ display:grid; grid-template-columns: repeat(3, 1fr); gap:12px; }
    @media (max-width:900px){.testiWrap{grid-template-columns:1fr;}}
    .testi{
      border:1px solid var(--stroke);
      background:var(--card);
      border-radius:var(--r20);
      padding:14px;
      box-shadow: var(--shadow);
    }
    .stars{letter-spacing:2px; color:#fbbf24; font-size:.95rem}
    .testi p{margin:8px 0 0; color:var(--muted); line-height:1.65}
    .testi .name{margin-top:10px; font-weight:900}
    .testi .meta{color:var(--muted2); font-size:.9rem}

    .overlay{
      position:fixed; inset:0;
      background:rgba(0,0,0,.55);
      backdrop-filter: blur(10px);
      display:none;
      z-index:50;
      padding: 12px;
    }
    .overlay.open{display:flex; align-items:center; justify-content:center;}
    .modal{
      width:100%;
      max-width: 720px;
      border-radius: 22px;
      border:1px solid var(--stroke2);
      background: var(--card2);
      box-shadow: var(--shadow2);
      overflow:hidden;
      max-height: 92vh;
      display:flex;
      flex-direction:column;
    }
    .modalHeader{
      padding:14px 14px;
      background: linear-gradient(90deg, rgba(124,58,237,.35), rgba(34,211,238,.22));
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      flex:0 0 auto;
    }
    .modalHeader h3{
      margin:0;
      font-family:Orbitron,Inter,sans-serif;
      font-weight:800;
      letter-spacing:.06em;
      text-transform:uppercase;
      font-size:1.05rem;
    }
    .closeBtn{
      width:42px;height:42px;border-radius:16px;
      border:1px solid var(--stroke2);
      background:rgba(255,255,255,.08);
      color:var(--text);
      cursor:pointer;
      display:flex; align-items:center; justify-content:center;
      flex:0 0 auto;
    }
    html[data-theme="light"] .closeBtn{background:rgba(2,6,23,.04)}

    .modalBody{
      padding:14px;
      overflow:auto;
      flex:1 1 auto;
    }
    .modalFooter{
      padding:14px;
      border-top:1px solid var(--stroke);
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      justify-content:flex-end;
      flex:0 0 auto;
    }

    .field{ display:grid; gap:8px; margin-bottom:12px; }
    .label{
      font-weight:900;
      color:var(--muted);
      font-size:.9rem;
      text-transform:uppercase;
      letter-spacing:.06em;
    }
    input, select, textarea{
      width:100%;
      padding:12px 12px;
      border-radius: 16px;
      border:1px solid var(--stroke2);
      background:rgba(255,255,255,.06);
      color:var(--text);
      outline:none;
      font-weight:800;
      font-size:.98rem;
    }
    html[data-theme="light"] input, html[data-theme="light"] select, html[data-theme="light"] textarea{
      background:rgba(2,6,23,.04);
    }
    textarea{min-height:94px; resize:vertical; font-weight:700}
    .help{
      margin:6px 0 0;
      color:var(--muted2);
      font-size:.9rem;
      line-height:1.55;
    }

    .inline2{ display:grid; grid-template-columns: 1fr 1fr; gap:10px; }
    @media (max-width:560px){.inline2{grid-template-columns:1fr;}}

    .pdfRow{ display:grid; grid-template-columns: 1fr 1fr; gap:10px; margin-top:10px; }
    @media (max-width:560px){.pdfRow{grid-template-columns:1fr;}}

    .floating{
      position:fixed;
      bottom:16px;
      z-index:40;
      width:var(--floatingSize);
      height:var(--floatingSize);
      border-radius: 999px;
      border:1px solid var(--stroke2);
      background:rgba(255,255,255,.08);
      box-shadow: var(--shadow2);
      color:var(--text);
      display:flex; align-items:center; justify-content:center;
      cursor:pointer;
      user-select:none;
    }
    html[data-theme="light"] .floating{background:rgba(2,6,23,.04)}
    .floating:active{transform:translateY(1px)}
    .floatingLeft{left:16px}
    .floatingRight{right:16px}

    .count{
      position:absolute;
      top:-6px; right:-6px;
      min-width:22px;height:22px;
      border-radius:999px;
      background: var(--good);
      color:#06200f;
      font-weight:1000;
      font-size:.78rem;
      display:flex;align-items:center;justify-content:center;
      border:2px solid rgba(0,0,0,.20);
    }

    .drawerOverlay{
      position:fixed; inset:0;
      background:rgba(0,0,0,.55);
      backdrop-filter: blur(10px);
      display:none;
      z-index:60;
      padding: 12px;
    }
    .drawerOverlay.open{display:block;}
    .drawer{
      position:absolute;
      right:12px; bottom:12px;
      width:min(520px, calc(100% - 24px));
      border-radius:22px;
      border:1px solid var(--stroke2);
      background: var(--card2);
      box-shadow: var(--shadow2);
      overflow:hidden;
    }
    .drawerHeader{
      padding:14px;
      background: linear-gradient(90deg, rgba(124,58,237,.35), rgba(34,211,238,.22));
      display:flex; align-items:center; justify-content:space-between; gap:10px;
    }
    .drawerHeader h3{
      margin:0;
      font-family:Orbitron,Inter,sans-serif;
      font-weight:800;
      letter-spacing:.06em;
      text-transform:uppercase;
      font-size:1.02rem;
    }
    .drawerBody{padding:14px; max-height: 56vh; overflow:auto;}
    .drawerFooter{
      padding:14px;
      border-top:1px solid var(--stroke);
      display:grid;
      gap:10px;
    }
    .item{
      border:1px solid var(--stroke);
      background:rgba(255,255,255,.05);
      border-radius:18px;
      padding:12px;
      display:flex;
      justify-content:space-between;
      gap:10px;
      align-items:flex-start;
      margin-bottom:10px;
    }
    html[data-theme="light"] .item{background:rgba(2,6,23,.03)}
    .item .t{font-weight:1000;text-transform:uppercase}
    .item .m{color:var(--muted); font-size:.9rem; margin-top:4px; line-height:1.55}
    .item .right{display:flex; flex-direction:column; gap:8px; align-items:flex-end}
    .qty{
      display:flex; align-items:center; gap:8px;
      border:1px solid var(--stroke2);
      border-radius:999px;
      padding:6px 8px;
      background:rgba(255,255,255,.06);
    }
    .qbtn{
      width:30px;height:30px;border-radius:999px;
      border:1px solid var(--stroke2);
      background:rgba(255,255,255,.08);
      color:var(--text);
      cursor:pointer;
      font-weight:1000;
    }
    .qbtn:active{transform:translateY(1px)}
    .qty span{min-width:18px; text-align:center; font-weight:1000}
    .rm{
      border:none;
      background:transparent;
      color:rgba(248,113,113,.92);
      font-weight:1000;
      cursor:pointer;
    }

    .totals{
      display:flex; justify-content:space-between; align-items:center;
      font-weight:1000;
      padding:12px;
      border:1px solid var(--stroke);
      border-radius:18px;
      background:rgba(255,255,255,.05);
    }
    html[data-theme="light"] .totals{background:rgba(2,6,23,.03)}
    .totals .value{color:var(--good)}
    .noteSmall{color:var(--muted2); font-size:.88rem; line-height:1.55; margin:0}

    footer{
      margin-top: 22px;
      padding: 18px 0 6px;
      color:var(--muted2);
      border-top:1px solid var(--stroke);
    }
    .foot{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:10px;
      flex-wrap:wrap;
      font-size:.88rem;
    }
    .heart{color:#fb7185}

    .payGrid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:12px;
    }
    @media (max-width:720px){
      .payGrid{grid-template-columns:1fr;}
    }
    .payCard{
      border:1px solid var(--stroke);
      background:rgba(255,255,255,.05);
      border-radius:18px;
      padding:12px;
    }
    html[data-theme="light"] .payCard{background:rgba(2,6,23,.03)}
    .payTitle{
      margin:0 0 8px;
      font-weight:1000;
      text-transform:uppercase;
      letter-spacing:.08em;
      font-size:.95rem;
    }
    .qrisImg{
      width:min(260px, 82%);
      max-height:42vh;
      object-fit:contain;
      display:block;
      margin:10px auto 0;
      border-radius:16px;
      border:1px solid var(--stroke);
      background:rgba(255,255,255,.04);
      padding:8px;
    }
    .payHint{
      margin:8px 0 0;
      color:var(--muted2);
      font-size:.9rem;
      line-height:1.5;
    }
    .payChoiceRow{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
    }
    @media (max-width:560px){
      .payChoiceRow{grid-template-columns:1fr;}
    }
    .disabledBtn{ opacity:.55; pointer-events:none; }
  </style>
</head>
<body>
  <!-- Google Tag Manager (noscript) -->
  <noscript>
    <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PCB6G2Q8"
      height="0" width="0" style="display:none;visibility:hidden"></iframe>
  </noscript>

  <div class="bg-grid"></div>

  <!-- HEADER -->
  <header>
    <div class="container nav">
      <div class="brand">
        <img src="logo.png" alt="Retail Cortex">
        <div class="brand-text">
          <div class="brand-title">RETAIL CORTEX</div>
          <div class="brand-sub">Execution System</div>
        </div>
      </div>

      <button class="menuBtn" id="themeToggle">üåì</button>
    </div>
  </header>

  <!-- HERO -->
  <main>
    <section class="hero">
      <div class="container">
        <span class="pill">
          <span class="dot"></span>
          System Retail Execution
        </span>

        <div class="heroGrid">
          <div>
            <h1 class="heroTitle">
              Modular <span class="accent">Retail Services</span><br>
              For Store Performance
            </h1>
            <p class="heroDesc">
              Pilih layanan ‚Üí isi langsung di website ‚Üí checkout ‚Üí upload bukti ‚Üí
              konfirmasi pembayaran ‚Üí WhatsApp otomatis.
            </p>
          </div>

          <!-- HERO RIGHT CARD (YANG DIMINTA DIHAPUS ISINYA) -->
          <div class="heroCards">
            <div class="miniCard">
              <h4>Integrated System</h4>
              <p>
                Sistem langsung terhubung ke dashboard & spreadsheet internal.
              </p>
            </div>
            <div class="miniCard">
              <h4>Auto Confirmation</h4>
              <p>
                Konfirmasi pembayaran otomatis ke WhatsApp admin.
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- MODULES -->
    <section class="section">
      <div class="container">
        <h2>Service Modules</h2>
        <p class="sub">
          Pilih layanan sesuai kebutuhan toko Anda.
        </p>

        <div class="grid">

          <!-- NEW MEMBER -->
          <div class="card">
            <div class="cardTop">
              <span class="badge">MEMBERSHIP</span>
              <div class="iconBox">üë•</div>
            </div>
            <div class="cardBody">
              <h3 class="cardTitle">NEW MEMBER FRESH</h3>
              <p class="cardDesc">
                Aktivasi member Alfamart.<br>
                ‚â•10 pcs Rp4.500 / pcs<br>
                &lt;10 pcs Rp5.000 / pcs
              </p>
              <div class="cardActions">
                <button class="btn btnPrimary" data-open="member">
                  DETAIL & INPUT
                </button>
              </div>
            </div>
          </div>

          <!-- AREA COVERAGE -->
          <div class="card">
            <div class="cardTop">
              <span class="badge">DESIGN</span>
              <div class="iconBox">üìê</div>
            </div>
            <div class="cardBody">
              <h3 class="cardTitle">DESIGN AREA COVERAGE</h3>
              <p class="cardDesc">
                Desain area coverage toko.<br>
                Harga fix Rp45.000
              </p>
              <div class="cardActions">
                <button class="btn btnPrimary" data-open="area">
                  DETAIL & INPUT
                </button>
              </div>
            </div>
          </div>

          <!-- PPS -->
          <div class="card">
            <div class="cardTop">
              <span class="badge">PERFORMANCE</span>
              <div class="iconBox">üìä</div>
            </div>
            <div class="cardBody">
              <h3 class="cardTitle">PPS BOOSTER</h3>
              <p class="cardDesc">
                Analisis & strategi peningkatan PPS toko.
              </p>
              <div class="cardActions">
                <button class="btn btnGhost" data-add-fixed="PPS" data-title="PPS BOOSTER">
                  TAMBAH KE KERANJANG
                </button>
              </div>
            </div>
          </div>

          <!-- SUEG -->
          <div class="card">
            <div class="cardTop">
              <span class="badge">EXECUTION</span>
              <div class="iconBox">‚ö°</div>
            </div>
            <div class="cardBody">
              <h3 class="cardTitle">SUEG SYSTEM</h3>
              <p class="cardDesc">
                Sistem eksekusi penjualan & monitoring.
              </p>
              <div class="cardActions">
                <button class="btn btnGhost" data-add-fixed="SUEG" data-title="SUEG SYSTEM">
                  TAMBAH KE KERANJANG
                </button>
              </div>
            </div>
          </div>

        </div>
      </div>
    </section>
    <!-- ===== MEMBER MODAL ===== -->
    <div class="overlay" id="memberOverlay">
      <div class="modal">
        <div class="modalHeader">
          <h3>NEW MEMBER FRESH</h3>
          <button class="closeBtn" data-close="member">‚úï</button>
        </div>

        <div class="modalBody">
          <p class="help">
            Harga otomatis:
            ‚â•10 pcs ‚Üí Rp4.500 / pcs<br>
            &lt;10 pcs ‚Üí Rp5.000 / pcs
          </p>

          <div class="field">
            <label class="label">Jumlah Member</label>
            <input type="number" id="m_qty" min="1" placeholder="Contoh: 12">
          </div>

          <div class="field">
            <label class="label">Kode Toko</label>
            <input type="text" id="m_kodetoko" placeholder="Contoh: 2G44">
          </div>

          <div class="field">
            <label class="label">PIN / Tgl Lahir</label>
            <input type="text" id="m_pin" placeholder="Contoh: 010203">
          </div>

          <div class="field">
            <label class="label">Ringkasan</label>
            <textarea id="m_preview" readonly></textarea>
          </div>
        </div>

        <div class="modalFooter">
          <button class="btn btnGhost" data-close="member">BATAL</button>
          <button class="btn btnPrimary" id="m_addCart">
            TAMBAH KE KERANJANG
          </button>
        </div>
      </div>
    </div>

    <!-- ===== AREA MODAL ===== -->
    <div class="overlay" id="areaOverlay">
      <div class="modal">
        <div class="modalHeader">
          <h3>DESIGN AREA COVERAGE</h3>
          <button class="closeBtn" data-close="area">‚úï</button>
        </div>

        <div class="modalBody">
          <p class="help">
            Harga fix Rp45.000<br>
            Revisi gratis 1√ó24 jam
          </p>

          <div class="field">
            <label class="label">Nama Toko</label>
            <input type="text" id="a_namatoko">
          </div>

          <div class="field">
            <label class="label">Kode Toko</label>
            <input type="text" id="a_kodetoko">
          </div>

          <div class="field">
            <label class="label">Berapa Sub</label>
            <input type="text" id="a_sub" placeholder="Contoh: 5 sub">
          </div>

          <div class="field">
            <label class="label">Format</label>
            <select id="a_format">
              <option value="">Pilih format</option>
              <option value="Landscape">Landscape</option>
              <option value="Portrait">Portrait</option>
            </select>
          </div>

          <div class="field">
            <label class="label">Sharelok</label>
            <input type="text" id="a_sharelok" placeholder="Link Google Maps">
          </div>

          <div class="field">
            <label class="label">Ringkasan</label>
            <textarea id="a_preview" readonly></textarea>
          </div>
        </div>

        <div class="modalFooter">
          <button class="btn btnGhost" data-close="area">BATAL</button>
          <button class="btn btnPrimary" id="a_addCart">
            TAMBAH KE KERANJANG
          </button>
        </div>
      </div>
    </div>

    <!-- ===== CART DRAWER ===== -->
    <div class="drawerOverlay" id="drawerOverlay">
      <div class="drawer">
        <div class="drawerHeader">
          <h3>KERANJANG</h3>
          <button class="closeBtn" id="closeCart">‚úï</button>
        </div>

        <div class="drawerBody" id="cartItems">
          <p class="help">Keranjang masih kosong.</p>
        </div>

        <div class="drawerFooter">
          <div class="totals">
            <span>Total</span>
            <span id="cartTotal">Rp0</span>
          </div>

          <button class="btn btnGhost" id="clearCart">
            HAPUS KERANJANG
          </button>

          <button class="btn btnPrimary" id="checkoutBtn">
            CHECKOUT
          </button>
        </div>
      </div>
    </div>
    <!-- ===== PAYMENT MODAL ===== -->
    <div class="overlay" id="payOverlay">
      <div class="modal">
        <div class="modalHeader">
          <h3>PEMBAYARAN</h3>
          <button class="closeBtn" data-close="pay">‚úï</button>
        </div>

        <div class="modalBody">
          <p class="help">
            Pilih metode pembayaran, isi nama pemesan,
            upload bukti pembayaran, lalu konfirmasi.
          </p>

          <!-- METODE -->
          <div class="field">
            <label class="label">Metode Pembayaran</label>
            <select id="payMethod">
              <option value="">Pilih metode</option>
              <option value="TRANSFER">TRANSFER</option>
              <option value="QRIS">QRIS</option>
            </select>
          </div>

          <!-- NAMA -->
          <div class="field">
            <label class="label">Nama Pemesan (WAJIB)</label>
            <input type="text" id="payName" placeholder="Contoh: Brandon">
          </div>

          <!-- UPLOAD -->
          <div class="field">
            <label class="label">Upload Bukti Pembayaran</label>
            <input
              type="file"
              id="payProof"
              accept="image/*"
            >
            <p class="help">
              Bukti wajib di-upload sebelum konfirmasi.
            </p>
          </div>

          <!-- STATUS -->
          <div class="miniCard">
            <b>Status Bukti:</b>
            <span id="uploadStatus">BELUM UPLOAD</span>
          </div>

          <!-- RINGKASAN -->
          <div class="field">
            <label class="label">Ringkasan Order (Preview WA)</label>
            <textarea id="waPreview" readonly></textarea>
          </div>
        </div>

        <div class="modalFooter">
          <button class="btn btnGhost" data-close="pay">
            BATAL
          </button>

          <button class="btn btnPrimary disabledBtn"
            id="confirmPay">
            KONFIRMASI PEMBAYARAN
          </button>
        </div>
      </div>
    </div>
    <script>
/* ===============================
   CONFIG (WAJIB DIISI)
================================ */
const WA_NUMBER = "628XXXXXXXXXX"; // ganti nomor WA lu
const SPREADSHEET_API = "https://script.google.com/macros/s/AKfycbxTatHp9S2qoTlqCnoAJOIAzUx0Os20e9c0XnH7x2JZElyuZOGjWn1QhjgCuoBurcok/exec";

/* ===============================
   GLOBAL STATE
================================ */
let cart = [];
let currentOrderNo = "";

/* ===============================
   HELPERS
================================ */
const money = n => "Rp" + Number(n).toLocaleString("id-ID");
const rpUpper = n => "RP. " + Number(n).toLocaleString("id-ID");

function generateOrderNo(){
  const d = new Date();
  return `RC-${d.getFullYear()}${(d.getMonth()+1)
    .toString().padStart(2,"0")}${d.getDate()
    .toString().padStart(2,"0")}-${d.getHours()
    .toString().padStart(2,"0")}${d.getMinutes()
    .toString().padStart(2,"0")}${d.getSeconds()
    .toString().padStart(2,"0")}`;
}

/* ===============================
   MODAL OPEN / CLOSE
================================ */
document.addEventListener("click", e=>{
  const open = e.target.closest("[data-open]");
  if(open){
    document.getElementById(open.dataset.open+"Overlay").classList.add("open");
  }
  const close = e.target.closest("[data-close]");
  if(close){
    document.getElementById(close.dataset.close+"Overlay").classList.remove("open");
  }
});

/* ===============================
   MEMBER LOGIC
================================ */
const m_qty = document.getElementById("m_qty");
const m_kode = document.getElementById("m_kodetoko");
const m_pin  = document.getElementById("m_pin");
const m_prev = document.getElementById("m_preview");

function memberPrice(q){
  return q >= 10 ? 4500 : 5000;
}

function updateMemberPreview(){
  const qty = Number(m_qty.value || 0);
  if(!qty) return;

  const per = memberPrice(qty);
  const total = per * qty;

  m_prev.value =
`Aktivasi#${m_kode.value || "-"}
PIN / Tgl Lahir : ${m_pin.value || "-"}
Jumlah Member : ${qty} pcs

TOTAL ${rpUpper(total)}`;
}

[m_qty, m_kode, m_pin].forEach(i=>i.addEventListener("input", updateMemberPreview));

document.getElementById("m_addCart").onclick = ()=>{
  const qty = Number(m_qty.value);
  if(!qty) return alert("Jumlah member wajib diisi");

  const per = memberPrice(qty);
  const total = per * qty;

  cart.push({
    type:"MEMBER",
    qty,
    kode:m_kode.value,
    pin:m_pin.value,
    total
  });

  document.getElementById("memberOverlay").classList.remove("open");
  renderCart();
};

/* ===============================
   AREA LOGIC
================================ */
const a_preview = document.getElementById("a_preview");

function updateAreaPreview(){
  a_preview.value =
`DESIGN AREA COVERAGE
Nama Toko : ${a_namatoko.value}
Kode Toko : ${a_kodetoko.value}
Berapa Sub : ${a_sub.value}
Format : ${a_format.value}`;
}

[a_namatoko,a_kodetoko,a_sub,a_format].forEach(i=>{
  i.addEventListener("input", updateAreaPreview);
});

document.getElementById("a_addCart").onclick = ()=>{
  if(!a_format.value) return alert("Format wajib dipilih");

  cart.push({
    type:"AREA",
    nama:a_namatoko.value,
    kode:a_kodetoko.value,
    sub:a_sub.value,
    format:a_format.value,
    total:45000
  });

  document.getElementById("areaOverlay").classList.remove("open");
  renderCart();
};

/* ===============================
   CART RENDER
================================ */
function renderCart(){
  const el = document.getElementById("cartItems");
  const totalEl = document.getElementById("cartTotal");

  if(cart.length===0){
    el.innerHTML="<p class='help'>Keranjang masih kosong.</p>";
    totalEl.textContent=money(0);
    return;
  }

  let total=0;
  el.innerHTML = cart.map((it,i)=>{
    total+=it.total;
    return `<div class="item">
      <b>${i+1}) ${it.type}</b>
      <div>${money(it.total)}</div>
    </div>`;
  }).join("");

  totalEl.textContent = money(total);
}

/* ===============================
   CHECKOUT
================================ */
document.getElementById("checkoutBtn").onclick = ()=>{
  if(cart.length===0) return alert("Keranjang kosong");
  currentOrderNo = generateOrderNo();
  document.getElementById("payOverlay").classList.add("open");
};

/* ===============================
   PAYMENT VALIDATION
================================ */
const payMethod = document.getElementById("payMethod");
const payName   = document.getElementById("payName");
const payProof  = document.getElementById("payProof");
const confirmBtn= document.getElementById("confirmPay");
const waPreview = document.getElementById("waPreview");

function refreshConfirm(){
  if(payMethod.value && payName.value && payProof.files.length){
    confirmBtn.classList.remove("disabledBtn");
  }else{
    confirmBtn.classList.add("disabledBtn");
  }
}
[payMethod,payName,payProof].forEach(i=>i.onchange=refreshConfirm);

/* ===============================
   BUILD WA TEXT
================================ */
function buildWAText(){
  let total=0;
  let text=
`KONFIRMASI PEMBAYARAN

Nomor Order : ${currentOrderNo}
Nama Pemesan : ${payName.value}

RINGKASAN ORDER`;

  cart.forEach((it,i)=>{
    text+=`\n${i+1}) ${it.type}`;
    if(it.type==="MEMBER"){
      text+=`\nAktivasi#${it.kode}
PIN / Tgl Lahir : ${it.pin}
Jumlah Member : ${it.qty} pcs`;
    }
    if(it.type==="AREA"){
      text+=`\nKode Toko : ${it.kode}
Berapa Sub : ${it.sub}
Format : ${it.format}`;
    }
    total+=it.total;
    text+=`\n`;
  });

  text+=`
TOTAL PEMBAYARAN : ${rpUpper(total)}
Metode Pembayaran : ${payMethod.value}

Bukti pembayaran sudah di-upload melalui sistem.
Terima kasih.`;

  return text;
}

/* ===============================
   CONFIRM PAYMENT
================================ */
confirmBtn.onclick = async ()=>{
  if(confirmBtn.classList.contains("disabledBtn")) return;

  const waText = buildWAText();
  waPreview.value = waText;

  // kirim ke spreadsheet
  await fetch(SPREADSHEET_API,{
    method:"POST",
    body:JSON.stringify({
      orderNo:currentOrderNo,
      nama:payName.value,
      metode:payMethod.value,
      data:cart
    })
  });

  // buka WA
  window.open(
    `https://wa.me/${WA_NUMBER}?text=${encodeURIComponent(waText)}`,
    "_blank"
  );

  cart=[];
  renderCart();
  document.getElementById("payOverlay").classList.remove("open");
};
</script>
